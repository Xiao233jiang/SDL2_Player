# FFmpeg SDL2 媒体播放器

基于 FFmpeg、SDL2、OpenGL 和 ImGui 构建的现代跨平台媒体播放器。

## 功能特性

- 支持多种视频格式 (MP4, AVI, MKV, MOV, FLV, WebM)
- OpenGL 渲染 YUV 到 RGB 渲染
- 实时音频重采样和音视频同步
- 基于 ImGui 的现代响应式用户界面
- 多线程架构（解封装/解码/渲染分离）
- 精确的播放控制和跳转功能
- 音频音量控制和静音
- 可变播放速度 (0.25x - 2.0x)
- 键盘快捷键支持

## 技术栈

- **FFmpeg 4.4+** - 音视频解封装和解码
- **SDL2** - 跨平台音频输出和窗口管理  
- **OpenGL 3.3+** - 视频渲染
- **ImGui** - 即时模式图形界面框架
- **C++17** - 现代 C++ 多线程编程

## 使用说明

### 键盘快捷键

- `空格键` - 播放/暂停
- `←/→` - 快退/快进 5秒
- `Shift + ←/→` - 快退/快进 10秒  
- `M` - 静音/取消静音

### 界面操作

- **进度条** - 拖拽跳转，悬浮显示时间预览
- **左侧面板** - 音量控制和静音按钮
- **中央面板** - 播放控制（10秒/5秒后退，播放/暂停，5秒/10秒前进）  
- **右侧面板** - 播放速度控制和文件操作

## 架构设计

### 多线程处理管道

```
媒体文件 → 解封装线程 → 数据包队列 → 解码线程 → 帧队列 → 渲染/音频播放
```

### 核心模块

- **PlayerState** - 全局状态和队列管理
- **OpenGLRenderer** - 基于 OpenGL 的 YUV 着色器渲染
- **ControlPanel** - 基于 ImGui 的播放控制面板
- **AudioPlayer** - SDL2 音频回调和同步播放

## 开发路线

### 已完成功能

- [x] 基础音视频播放
- [x] 多线程解码架构
- [x] OpenGL 渲染
- [x] ImGui 控制界面
- [x] 音视频同步
- [x] 跳转和速度控制

### 开发中功能

- [ ] 硬件解码支持 (NVENC/VAAPI)
- [ ] 字幕渲染显示
- [ ] 全屏播放模式

### 计划功能

- [ ] 网络流播放 (RTMP/HLS)
- [ ] 视频滤镜效果（亮度/对比度/饱和度）
- [ ] 播放列表管理
- [ ] 多音轨支持

## 系统要求

- Windows 10+ / Ubuntu 18.04+ / macOS 10.15+
- 支持 C++17 的编译器
- 支持 OpenGL 3.3+ 的显卡
- CMake 3.28+

## 开源协议

MIT License

## 参与贡献

欢迎提交 Issue 和 Pull Request！